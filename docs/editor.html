<article><style>article{
    max-width: 800px;
    font-size: 12pt;
    font-family: sans-serif;
    margin: 3em auto;
}

article h1{
    text-align: center;
    font-size: 2em;
}

article img{
    margin: 0 auto;
    max-width: 100%;
}

article blockquote{
    border-left: 0.2em solid gray;
    margin-left: 1em;
    padding-left: 1em;
}

article figcaption{
    padding: 0.2em 1em;
    background: #E0E0E0;
}

article code{
    background: #F0F0F0;
    padding: 0 0.1em;
}

article .code-block{
    padding: 0.1em 0.5em;
}</style><h1 id="kandria editor">Kandria Editor</h1><p>Kandria ships with a very capable level editor which allows you to modify existing worlds and create your own. This document describes how to use the editor, for information on how to distribute your worlds and manage those of others, please see the <a class="external-link" href="mods.html">mods documentation</a>.</p><h2 id="opening the editor">Opening the Editor</h2><p>You can open the editor by loading into a world in edit mode directly from the mod manager, or by pressing the Section / Tilde / Grave Accent key (the one immediately below Escape) at any time during gameplay.</p><figure><img alt="images/editor-start.png" src="images/editor-start.png" style="display:block"><figcaption>The editor as it should appear on start</figcaption></figure><p>At the left is where properties for objects will appear. It should automatically &quot;select&quot; the world you created and allow you to set its name, description, etc. Above it lies the toolbar and the menu bar. If you want to quit the editor, you can either hit the Section key again, or go to File &gt; Close Editor.</p><h2 id="browsing and selecting">Browsing and Selecting</h2><p>When the world is selected, clicking anything inside the view with a bounding box will cause that entity to be selected. If you don't click on anything, you'll instead pan the view. While an entity is selected, you can either hold <code>Alt</code> at any time to drag the view, or select the <code>Browse</code> tool at the top left in the toolbar to explicitly browse.</p><p>To change the zoom level of the editor view, you can drag the slider to the right of the menu bar.</p><p>If you want to change which entity is selected, you can hit the <code>Tab</code> key, which will select the world again.</p><h2 id="editing entities">Editing Entities</h2><p>After selecting an entity such as the player, you'll be presented with a new set of properties on the left that you can edit, and a new set of tools. The editor will also automatically switch to whichever tool is the default tool for that entity.</p><figure><img alt="images/editor-entity.png" src="images/editor-entity.png" style="display:block"><figcaption>The view after selecting the player entity</figcaption></figure><p>Some entities have different sets of tools available, too. For instance, the <code>Trace</code> tool is only available for the player.</p><p>The tools shown in the screenshot above do the following:</p><ul><li><p><code>Browse</code> Pan around the view without holding <code>Alt</code>. If you hold <code>Shift</code> you can also control the zoom level.</p></li><li><p><code>Freeform</code> Allows you to move any entity by dragging it. Entities that are resizable can also be resized by dragging their edges.</p></li><li><p><code>Animations</code> Opens the animation editor for NPCs and so on. Unless you are making complicated mods with custom characters, you will not need this tool.</p></li><li><p><code>Movement AI</code> Allows you to debug pathing issues with NPCs. If you click somewhere it'll invoke the movement AI to plan a route to where you clicked, if it can.</p></li><li><p><code>Movement Trace</code> Only available for the player â€“ shows the movement trace like it does on the in-game map.</p></li></ul><h2 id="editing chunks">Editing Chunks</h2><p>After selecting a &quot;chunk&quot; (a screen displaying tiles), the editor will also show you a new side panel. This is one of the most complex of the editor tools, so take your time to get familiar with it.</p><figure><img alt="images/editor-chunk.png" src="images/editor-chunk.png" style="display:block"><figcaption>The view after selecting a chunk</figcaption></figure><p>In terms of tools there's now a few more available:</p><ul><li><p><code>Paint</code> Freely paint tiles onto a layer of the chunk. Right click to erase, middle click to pick a tile from the chunk. Scrolling will scroll through the tileset horizontally, <code>Shift</code>-scrolling will do the same vertically. <code>Shift</code>-clicking will bucket-fill the area, <code>Ctrl</code>-clicking will fill with &quot;inside&quot; solid tiles and auto-tile the chunk.</p></li><li><p><code>Repeat</code> Paint tiles but repeat them nicely. Useful for stamping down bigger things that span more than one tile or painting rectangular regions. Hold <code>Shift</code> to only place down whole spans of tiles, rather than parts. Middle click to pick the tile at the cursor.</p></li><li><p><code>Drag</code> Select a region of tiles and move it. Hold <code>Shift</code> during the move to copy it.</p></li><li><p><code>Solid Lines</code> Drag a line of solid block outlines. This will automatically insert slopes as appropriate, as well, making it trivial to draw up the solid base of a map. Right click to erase. <code>Ctrl</code>-click to bucket fill with &quot;interior&quot; tiles and do an auto-tile pass.</p></li><li><p><code>Auto Tile</code> Auto-tile a region of tiles with the currently selected auto-tile set. You drag to select the region to auto-tile, which allows you to mix different tilesets quickly and easily.</p></li></ul><p>The useful properties shown on the left are as follows:</p><ul><li><p><code>TILE-DATA</code> Use this to select which tileset you want to use. You can only use one tileset for each chunk.</p></li><li><p><code>BACKGROUND</code> This lets you select which parallax background is displayed in the back.</p></li><li><p><code>BG-OVERLAY</code> Some tilesets have special background tiles that have pink bits. Those pink bits are replaced with the overlay texture to allow for more variation in the background. You can select the texture to be used here.</p></li><li><p><code>GI</code> This sets the lighting model used for the chunk. They change how the entire chunk is lit, and can also change where the light is coming from. Most of these will have the light originating from the player.</p></li><li><p><code>ENVIRONMENT</code> Controls the music and soundscape that plays when entering this chunk.</p></li><li><p><code>VISIBLE-ON-MAP-P</code> Controls whether the chunk will show up on the map or not. Useful for handling interior chunks.</p></li></ul><p><span style="color:rgb(255,0,0);font-weight:bold">NOTE:</span> Unfortunately you cannot add new tilesets, backgrounds, etc. without involving code. For that, please see <a class="external-link" href="mods.html">modding</a>.</p><p>On the right is the tile control panel. This controls how you paint and interact. At the top is the layer slider, which controls which layer to paint on:</p><ul><li><p><code>0</code> - The tile background layer. This is also the layer the <code>BG-OVERLAY</code> applies to. It also has its own auto-tiling mode specifically for background tiles.</p></li><li><p><code>1</code> - An intermediary background layer.</p></li><li><p><code>2</code> - The &quot;surface&quot; layer where surface tiles, the player, and so on reside. Note that tiles on this layer will still draw over the player.</p></li><li><p><code>3</code> - An intermediary foreground layer.</p></li><li><p><code>4</code> - The foreground layer.</p></li></ul><p>To the right of the layer slider is a toggle that shows or hides the layer of solid tiles. All of the other layers are visual only, and the solids layer defines how entities interact with the chunk geometry.</p><p>Below this is the box to select the currently active auto-tile set. Some tilesets will have multiple auto-tiling sets available that you can mix between.</p><p>Right below this is the recent tile history. When you select new tiles they will appear in this history and give you easy access to previously used ones.</p><p>Below that is the actual tileset. Every tileset is split into two parts: the top part composes all visual tiles. These tiles do not have any interactivity and can be freely placed on layers 0-5. The bottom row is always reserved for solid tiles, which define interactivity and can only be placed on the solids layer. Picking a solid tile will automatically switch to the solids layer and vice-versa. The solid tiles have the following behaviours:</p><figure><img alt="images/editor-solids.png" src="images/editor-solids.png" style="display:block"><figcaption>A usage example of the various types of solid tiles</figcaption></figure><ol><li value="1"><p>Solid block. This block is solid on all sides and defines the surface geometry.</p></li><li value="2"><p>Platform. This block can be jumped up on and jumped down through, but can also be walked on.</p></li><li value="3"><p>Death. This block will kill the player on contact.</p></li><li value="4"><p>Slopes. The player can jump through these from below, though usually they're used together with solid ground.</p></li><li value="16"><p>Stopper. This is a marker tile used to define elevator floors and prevent enemies or NPCs from escaping outside their intended areas.</p></li><li value="17"><p>Spikes. These are directional spikes, and the player can pass through them when facing the same direction.</p></li><li value="21"><p>Slip block. This block is solid but cannot be climbed.</p></li><li value="22"><p>Inside. This tile marks the &quot;inside&quot; of a geometry and behaves the same as a solid block. It is used by the auto-tiler to determine which parts are inside or outside.</p></li></ol><p>If you want to select more than a single tile, you can do so by clicking one corner, then shift-clicking the other. This will select the whole region of tiles between the two clicks.</p><figure><img alt="images/editor-stamps.png" src="images/editor-stamps.png" style="display:block"><figcaption>Selecting and placing tile regions</figcaption></figure><p>Below the tileset is information about the currently selected tile. You can see the size of the stamp in tiles, the albedo, absorption, and normal maps, and the index of the selected tile.</p></article>